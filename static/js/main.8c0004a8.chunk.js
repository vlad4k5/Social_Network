(this.webpackJsonpproject_social_network=this.webpackJsonpproject_social_network||[]).push([[0],{10:function(e,t,a){e.exports={link:"Navbar_link__1mMTW",active:"Navbar_active__1rGjo"}},107:function(e,t,a){e.exports={error:"TextError_error__2Wr7d"}},108:function(e,t,a){e.exports={preloaderBlock:"Users_preloaderBlock__1807c"}},114:function(e,t,a){},16:function(e,t,a){e.exports={settingsComponent:"Settings_settingsComponent__3y_b_",settingsWrapper:"Settings_settingsWrapper__1kBQ5",toggle:"Settings_toggle__36KCx",errorMessage:"Settings_errorMessage__1QK2l",submitButton:"Settings_submitButton__2VnsO"}},22:function(e,t,a){e.exports={paginatorWrapper:"Paginator_paginatorWrapper__-TPRt",activePage:"Paginator_activePage__2cdnt"}},24:function(e,t,a){e.exports={profileInfo_wrapper:"ProfileInfo_profileInfo_wrapper__3fTXR",userPhoto:"ProfileInfo_userPhoto__MPJ12",ownerPhoto:"ProfileInfo_ownerPhoto__7uaro",photoFile:"ProfileInfo_photoFile__1jKbj",editProfile:"ProfileInfo_editProfile__HwzNl",aboutMe:"ProfileInfo_aboutMe__1y4EJ",userName:"ProfileInfo_userName__3DjFm",userStatus:"ProfileInfo_userStatus__1EfvW",contactsBlock:"ProfileInfo_contactsBlock__1UKVl",contacts:"ProfileInfo_contacts__2_y-8"}},241:function(e,t,a){"use strict";a.r(t);var s=a(51),n=a.n(s),r=(a(114),a(1)),o=a(13),c=a(3),i=a(44),l=a.n(i),u=a(25),j=a.n(u),b=a(19),d=a(4),p=a(100),m=a(0),h=function(e){return{isAuth:e.auth.isAuth}};var f=function(e){return Object(o.b)(h)((function(t){var a=t.isAuth,s=Object(p.a)(t,["isAuth"]);return!1===a?Object(m.jsx)(c.a,{to:"/login"}):Object(m.jsx)(e,Object(d.a)({},s))}))},O=a(2),x=a(11),g="SN/DIALOGS/ADD_NEW_MESSAGE",_={users:[{userName:"Dmitry",id:1},{userName:"Alexander",id:2},{userName:"Vladimir",id:3},{userName:"Konstantin",id:4},{userName:"Maxim",id:5}],messages:["Hello, my name is Dmitry","What's up?","How old are you?","Where are you from?","Nice to meet you! :)"]},v={addNewMessage:function(e){return{type:g,message:e}}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(x.a)(e.messages),[t.message])});default:return e}},k=a(7),w=a.p+"static/media/basicUserPhoto.94cf7531.png",P=function(e){var t=e.userName;return Object(m.jsxs)("div",{className:j.a.dialogsUserWrapper,children:[Object(m.jsx)("img",{src:w,className:j.a.dialogsUserPhoto,alt:"User avatar"}),Object(m.jsx)(k.b,{className:j.a.linkToUserChat,to:"/profile/17001",children:t})]})},I=function(e){var t=e.message;return Object(m.jsxs)("div",{className:j.a.dialogsMessageWrapper,children:[Object(m.jsx)("img",{src:w,className:j.a.dialogsUserPhoto,alt:"User avatar"}),Object(m.jsx)("span",{children:t})]})},S=Object(b.c)(f,Object(o.b)((function(e){return{users:e.dialogs.users,messages:e.dialogs.messages}}),{addNewMessage:v.addNewMessage}))((function(e){var t=e.users,a=e.messages,s=e.addNewMessage,n=t.map((function(e){return Object(m.jsx)(P,{userName:e.userName},e.id)})),r=a.map((function(e,t){return Object(m.jsx)(I,{message:e},t)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Messages"})," ",Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:j.a.dialogsWrapper,children:[Object(m.jsx)("div",{className:j.a.dialogsUsers,children:n}),Object(m.jsxs)("div",{className:j.a.dialogsMessages,children:[r,Object(m.jsx)("hr",{}),Object(m.jsx)(O.d,{initialValues:{message:""},onSubmit:function(e,t){var a=t.resetForm;s(e.message),a()},children:Object(m.jsxs)(O.c,{children:[Object(m.jsx)(O.b,{as:"textarea",id:"message",name:"message"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{type:"submit",children:"Send message"})]})})]})]})]})})),y=a(26),M=a.n(y),A=a.p+"static/media/logo.e68b35f4.svg",C=a(5),F=a.n(C),B=a(12),T=a(103),U=a.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"59cbca27-652d-4a07-9bc2-6419916cee9e"}}),L=function(){return U.get("/auth/me").then((function(e){return e.data}))},E=function(){return U.delete("/auth/login").then((function(e){return e.data}))},D=function(e){return U.post("/auth/login",e).then((function(e){return e.data}))},W=function(){return U.get("/security/get-captcha-url").then((function(e){return e.data}))},J=function(e){return U.get("/profile/".concat(e)).then((function(e){return e.data}))},H=function(e){return U.get("/profile/status/".concat(e)).then((function(e){return e.data}))},R=function(e){return U.put("/profile",e).then((function(e){return e.data}))},V=function(e){return U.put("/profile/status",{status:e}).then((function(e){return e.data}))},G=function(e){var t=new FormData;return t.append("image",e),U.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},K="SN/PROFILE/SET_PROFILE",q="SN/PROFILE/SET_STATUS",X="SN/PROFILE/SET_PHOTO",Q="SN/PROFILE/ADD_NEW_POST",z={status:"",profileInfo:null,posts:[{id:1,message:"My first post",likesCount:190},{id:2,message:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",likesCount:21},{id:3,message:"Just an example",likesCount:16}]},Y={setProfile:function(e){return{type:K,profileInfo:e}},setStatus:function(e){return{type:q,status:e}},setPhoto:function(e){return{type:X,photos:e}},addNewPost:function(e){return{type:Q,postText:e}}},Z=function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){var s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:s=t.sent,a(Y.setProfile(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){var s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:s=t.sent,a(Y.setStatus(null===s?"":s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(d.a)(Object(d.a)({},e),{},{profileInfo:t.profileInfo});case q:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case X:return Object(d.a)(Object(d.a)({},e),{},{profileInfo:Object(d.a)(Object(d.a)({},e.profileInfo),{},{photos:t.photos})});case Q:var a={id:e.posts.length+1,message:t.postText,likesCount:0};return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(x.a)(e.posts),[a])});default:return e}},te="SN/AUTH/SET_USER_DATA",ae="SN/AUTH/SET_CAPTCHA",se="SN/AUTH/SET_ERROR_MESSAGE",ne={userData:{email:null,id:null,login:null},isAuth:null,captcha:null,errorMessage:null},re=function(e,t){return{type:te,isAuth:e,userData:t}},oe=function(e){return{type:ae,captcha:e}},ce=function(e){return{type:se,errorMessage:e}},ie=function(){return function(){var e=Object(B.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:0===(a=e.sent).resultCode?(t(re(!0,a.data)),t(Z(a.data.id)),t($(a.data.id))):t(re(!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.isAuth,userData:t.userData?t.userData:{email:null,id:null,login:null}});case ae:return Object(d.a)(Object(d.a)({},e),{},{captcha:t.captcha});case se:return Object(d.a)(Object(d.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},ue=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,userName:e.auth.userData.login}}),{logout:function(){return function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.resultCode&&(t(re(!1,null)),t(Y.setProfile(null)),t(Y.setStatus("")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,a=e.logout,s=e.userName;return Object(m.jsxs)("div",{className:M.a.header_wrapper,children:[Object(m.jsxs)("div",{className:M.a.mediaBlock,children:[Object(m.jsx)("img",{src:A,className:M.a.logo,alt:"Social-Network logo"}),Object(m.jsx)("h2",{className:M.a.slogan,children:"Social Network"})]}),t?Object(m.jsxs)("div",{className:M.a.loginBlock,children:[Object(m.jsx)(k.b,{to:"/profile",className:M.a.linkToProfile,children:s}),Object(m.jsx)("button",{onClick:a,className:M.a.logoutButton,children:"Log out"})]}):Object(m.jsx)("div",{className:M.a.loginBlock,children:Object(m.jsx)(k.b,{to:"/login",className:M.a.linkToLogin,children:Object(m.jsx)("button",{className:M.a.logoutButton,children:"Log in"})})})]})})),je=a(31),be=a.n(je),de=a(8),pe=a(107),me=a.n(pe),he=function(e){var t=e.children;return Object(m.jsx)("span",{className:me.a.error,children:t})},fe=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,captcha:e.auth.captcha,errorMessage:e.auth.errorMessage}}),{login:function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){var s,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:if(0!==(s=t.sent).resultCode){t.next=9;break}a(ie()),a(ce(null)),a(oe(null)),t.next=15;break;case 9:if(10!==s.resultCode){t.next=15;break}return a(ce(s.messages[0])),t.next=13,W();case 13:n=t.sent,a(oe(n.url));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,a=e.captcha,s=e.login,n=e.errorMessage,r=de.a({email:de.b().email(" Invalid e-mail format!").required(" Field is required!").nullable(),password:de.b().required(" Field is required!").nullable()});return t?Object(m.jsx)(c.a,{to:"/profile"}):Object(m.jsx)("div",{className:be.a.loginWrapper,children:Object(m.jsx)(O.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},onSubmit:function(e){s(e)},validationSchema:r,children:Object(m.jsxs)(O.c,{children:[Object(m.jsx)("h2",{children:"Login Page "}),n&&Object(m.jsxs)("div",{className:be.a.serverErrorMessage,children:[" ",n," "]}),Object(m.jsxs)("div",{className:be.a.loginItem,children:[Object(m.jsx)(O.a,{name:"email",component:he}),Object(m.jsx)(O.b,{type:"text",name:"email",placeholder:"Email Address"})]}),Object(m.jsxs)("div",{className:be.a.loginItem,children:[Object(m.jsx)(O.a,{name:"password",component:he}),Object(m.jsx)(O.b,{type:"password",name:"password",placeholder:"Password"})]}),Object(m.jsxs)("div",{className:be.a.loginItem,children:[Object(m.jsx)(O.b,{type:"checkbox",id:"rememberMe",name:"rememberMe"}),Object(m.jsx)("label",{htmlFor:"rememberMe",children:" Remember me: "})]}),a?Object(m.jsxs)("div",{className:be.a.captchaBlock,children:[Object(m.jsx)("img",{src:a,alt:"captcha"}),Object(m.jsx)("label",{htmlFor:"captcha",className:be.a.err,children:" Please write a symbols from  captcha: "}),Object(m.jsx)(O.b,{type:"text",id:"captcha",name:"captcha"})]}):null,Object(m.jsx)("button",{className:be.a.loginButton,children:" Login "})]})})})})),Oe=a(10),xe=a.n(Oe),ge=function(){return Object(m.jsxs)("nav",{className:xe.a.navbar,children:[Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/profile",className:xe.a.link,activeClassName:xe.a.active,children:"Profile"})}),Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/dialogs",className:xe.a.link,activeClassName:xe.a.active,children:"Messages"})}),Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/users",className:xe.a.link,activeClassName:xe.a.active,children:"Users  "})}),Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/news",className:xe.a.link,activeClassName:xe.a.active,children:"News"})}),Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/music",className:xe.a.link,activeClassName:xe.a.active,children:"Music"})}),Object(m.jsx)("div",{className:xe.a.navbar__Item,children:Object(m.jsx)(k.b,{to:"/settings",className:xe.a.link,activeClassName:xe.a.active,children:"Settings"})})]})},_e=a(30),ve=a.n(_e),Ne=function(e){var t=e.id,a=e.userPhoto,s=e.message,n=e.likesCount;return Object(m.jsxs)("div",{className:ve.a.post,children:[Object(m.jsx)("img",{className:ve.a.userPhoto,src:a,alt:"User avatar"}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:ve.a.postText,children:Object(m.jsx)("span",{children:s})})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:ve.a.likeBlock,children:[Object(m.jsx)("span",{children:n}),Object(m.jsx)("button",{className:ve.a.likeButton,children:"\u2764"})]})})]},t)},ke=function(e){var t=e.posts,a=e.userPhoto,s=e.addNewPost,n=e.isOwner,r=Object(x.a)(t).reverse().map((function(e){return Object(m.jsx)(Ne,{message:e.message,likesCount:e.likesCount,userPhoto:a,id:e.id},e.id)}));return Object(m.jsxs)("div",{children:[n&&Object(m.jsx)(O.d,{initialValues:{postText:""},onSubmit:function(e,t){var a=t.resetForm;s(e.postText),a()},children:Object(m.jsxs)(O.c,{children:[Object(m.jsx)(O.b,{name:"postText",children:function(e){var t=e.field;return Object(m.jsx)("div",{children:Object(m.jsx)("textarea",Object(d.a)(Object(d.a)({className:ve.a.postField,type:"text",id:"postText",placeholder:"Add new post..."},t),{},{children:e.children}))})}}),Object(m.jsx)("button",{type:"submit",className:ve.a.newPostButton,children:"Add post"})]})}),Object(m.jsx)("div",{children:r})]})},we=a(15),Pe=a(24),Ie=a.n(Pe),Se=function(e){var t=e.profileInfo,a=e.status,s=e.updateStatus,n=e.updatePhoto,o=e.isOwner;console.log(t);var c=Object(r.useState)(!1),i=Object(we.a)(c,2),l=i[0],u=i[1],j=Object(r.useState)(a),b=Object(we.a)(j,2),d=b[0],p=b[1];Object(r.useEffect)((function(){p(a)}),[a]);return t?Object(m.jsxs)("div",{className:Ie.a.profileInfo_wrapper,children:[Object(m.jsxs)("div",{className:Ie.a.userPhoto,children:[Object(m.jsx)("label",{htmlFor:"photoFile",children:Object(m.jsx)("img",{src:t.photos.large?t.photos.large:w,className:o?Ie.a.ownerPhoto:"",alt:"User Avatar"})}),o&&Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:"photoFile",className:Ie.a.photoFile,type:"file",onChange:function(e){n(e.target.files[0])}}),Object(m.jsx)("button",{className:Ie.a.editProfile,children:Object(m.jsx)(k.b,{to:"/settings",children:"Edit profile"})})]})]}),Object(m.jsxs)("div",{className:Ie.a.aboutMe,children:[Object(m.jsx)("h1",{className:Ie.a.userName,children:t.fullName}),Object(m.jsxs)("div",{className:o?Ie.a.userStatus:"",onClick:function(){u(!0)},children:[Object(m.jsx)("label",{htmlFor:"status",children:"Status: "}),l&&o?Object(m.jsx)("input",{value:d,onChange:function(e){p(e.currentTarget.value)},onBlur:function(){s(d),u(!1)},autoFocus:!0}):Object(m.jsx)("span",{id:"status",children:a||"User has no status"})]}),Object(m.jsx)("div",{className:Ie.a.aboutMeInfo,children:Object(m.jsxs)("p",{children:["About me: ",t.aboutMe?t.aboutMe:""]})}),Object(m.jsxs)("div",{className:Ie.a.jobInfo,children:[Object(m.jsx)("p",{children:t.lookingForAJob?"Looking for a job \u2714\ufe0f":"Not looking for a job \u274c"}),Object(m.jsx)("p",{children:t.lookingForAJobDescription?t.lookingForAJobDescription:""})]}),Object(m.jsx)("div",{className:Ie.a.contactsBlock})]})]}):Object(m.jsx)("div",{children:"LLLLLoadign..."})},ye=Object(b.c)(Object(o.b)((function(e){return{profileInfo:e.profile.profileInfo,status:e.profile.status,posts:e.profile.posts,ownerId:e.auth.userData.id}}),{getProfile:Z,getStatus:$,addNewPost:Y.addNewPost,updateStatus:function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:0===t.sent.resultCode&&a(Y.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePhoto:function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){var s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:0===(s=t.sent).resultCode&&a(Y.setPhoto(s.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f,c.g)((function(e){var t=e.getProfile,a=e.getStatus,s=e.match,n=e.ownerId,o=e.profileInfo,c=e.status,i=e.posts,l=e.addNewPost,u=e.updateStatus,j=e.updatePhoto;return Object(r.useEffect)((function(){null!==n&&(t(s.params.userId?s.params.userId:n),a(s.params.userId?s.params.userId:n))}),[s.params.userId,n,t,a]),Object(r.useEffect)((function(){}),[s.params.userId,n]),o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Se,{profileInfo:o,status:c,updateStatus:u,updatePhoto:j,isOwner:!s.params.userId}),Object(m.jsx)(ke,{posts:i,userPhoto:o.photos.small?o.photos.small:w,addNewPost:l,isOwner:!s.params.userId})]}):Object(m.jsx)("div",{children:"Loading..."})})),Me=a(16),Ae=a.n(Me),Ce=Object(b.c)(f,Object(o.b)((function(e){return{profileInfo:e.profile.profileInfo,ownerId:e.auth.userData.id}}),{updateProfile:function(e){return function(){var t=Object(B.a)(F.a.mark((function t(a){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:0===t.sent.resultCode&&a(Y.setProfile(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfile:Z,getStatus:$}))((function(e){var t=e.profileInfo,a=e.updateProfile,s=e.ownerId,n=e.getProfile,r=e.getStatus;if(null===s)return Object(m.jsx)("div",{children:"LLOADING........."});if(s!==(null===t||void 0===t?void 0:t.userId)&&(n(s),r(s)),!t||s!==t.userId)return Object(m.jsx)("div",{children:"Loading..."});var o={aboutMe:t.aboutMe,userId:t.userId,contacts:{facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink},lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,photos:t.photos},c=de.a({contacts:de.a({facebook:de.b().url("! Invalid url format"),website:de.b().url("! Invalid url format"),vk:de.b().url("! Invalid url format"),twitter:de.b().url("! Invalid url format"),instagram:de.b().url("! Invalid url format"),youtube:de.b().url("! Invalid url format"),github:de.b().url("! Invalid url format"),mainLink:de.b().url("! Invalid url format")}),aboutMe:de.b().max(200,"! Too long text"),fullName:de.b().max(20,"! Too long name"),lookingForAJobDescription:de.b().max(200,"! Too long text")});return Object(m.jsxs)("div",{className:Ae.a.settingsComponent,children:[Object(m.jsx)("h2",{children:"Account settings"}),Object(m.jsx)(O.d,{initialValues:o,onSubmit:function(e){a(e)},validationSchema:c,children:Object(m.jsxs)(O.c,{children:[Object(m.jsxs)("div",{className:Ae.a.settingsWrapper,children:[Object(m.jsx)("label",{htmlFor:"aboutMe",children:"About Me:"}),Object(m.jsx)(O.b,{as:"textarea",name:"aboutMe",id:"aboutMe"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"aboutMe"})}),Object(m.jsx)("label",{htmlFor:"fullName",children:"Full Name:"}),Object(m.jsx)(O.b,{type:"text",name:"fullName",id:"fullName"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"fullName"})}),Object(m.jsx)("label",{htmlFor:"lookingForAJobDescription",children:"Job information:"}),Object(m.jsx)(O.b,{as:"textarea",name:"lookingForAJobDescription",id:"lookingForAJobDescription"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"lookingForAJobDescription"})}),Object(m.jsx)("label",{htmlFor:"lookingForAJob",children:" Looking for a job:"}),Object(m.jsx)(O.b,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob"}),Object(m.jsx)("label",{htmlFor:"lookingForAJob",className:Ae.a.toggle,children:Object(m.jsx)("span",{})}),Object(m.jsx)("span",{}),Object(m.jsx)("h2",{children:"Contacts"})," ",Object(m.jsx)("span",{})," ",Object(m.jsx)("span",{}),Object(m.jsx)("label",{htmlFor:"facebook",children:"Facebook:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.facebook",id:"facebook"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.facebook"})}),Object(m.jsx)("label",{htmlFor:"website",children:"Website:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.website",id:"website"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.website"})}),Object(m.jsx)("label",{htmlFor:"vk",children:"Vkontakte:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.vk",id:"vk"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.vk"})}),Object(m.jsx)("label",{htmlFor:"twitter",children:"Twitter:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.twitter",id:"twitter"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.twitter"})}),Object(m.jsx)("label",{htmlFor:"instagram",children:"Instagram:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.instagram",id:"instagram"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.instagram"})}),Object(m.jsx)("label",{htmlFor:"youtube",children:"Youtube:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.youtube",id:"youtube"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.youtube"})}),Object(m.jsx)("label",{htmlFor:"github",children:"Github:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.github",id:"github"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.github"})}),Object(m.jsx)("label",{htmlFor:"mainLink",children:"MainLink:"}),Object(m.jsx)(O.b,{type:"text",name:"contacts.mainLink",id:"mainLink"}),Object(m.jsx)("span",{className:Ae.a.errorMessage,children:Object(m.jsx)(O.a,{name:"contacts.mainLink"})})]}),Object(m.jsx)(k.b,{to:"/profile",children:Object(m.jsx)("button",{type:"submit",className:Ae.a.submitButton,children:"Save changes"})})]})})]})})),Fe=function(e,t,a){return U.get("/users/?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},Be=function(e){return U.post("/follow/".concat(e)).then((function(e){return e.data}))},Te=function(e){return U.delete("/follow/".concat(e)).then((function(e){return e.data}))},Ue=a(22),Le=a.n(Ue),Ee=function(e){var t=e.totalItemsCount,a=e.onPageChanged,s=e.currentPage,n=void 0===s?1:s,r=e.itemsPerPage,o=e.loading,c=e.pagesInPaginator,i=void 0===c?10:c,l=Math.ceil(t/r),u=i+n-1,j=[];if(n>=7&&n<=l-3)for(var b=function(e){j.push(Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:n===e-6?Le.a.activePage:Le.a.page,onClick:function(){a(e-6)},children:e-6},e)}))},d=n;d<=u;d++)b(d);else if(n<7)for(var p=function(e){j.push(Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:n===e?Le.a.activePage:Le.a.page,onClick:function(){a(e)},children:e},e)}))},h=1;h<=i;h++)p(h);else if(n>l-3)for(var f=function(e){j.push(Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:n===e?Le.a.activePage:Le.a.page,onClick:function(){a(e)},children:e},e)}))},O=l-i;O<l;O++)f(O);return Object(m.jsxs)("nav",{className:Le.a.paginatorWrapper,children:[Object(m.jsx)("button",{className:Le.a.page,disabled:!(1!==n&&!o),onClick:function(){return a(n-1)},children:"<"}),Object(m.jsx)("ul",{className:Le.a.pages,children:j}),Object(m.jsx)("span",{children:" ... "}),Object(m.jsx)("button",{className:n===l?Le.a.activePage:Le.a.page,onClick:function(){return a(l)},children:l}),Object(m.jsx)("button",{className:Le.a.page,disabled:!(n!==l&&!o),onClick:function(){return a(n+1)},children:">"})]})},De=a(35),We=a.n(De),Je=function(e){var t=e.photo,a=e.name,s=e.status,n=e.id,o=e.followed,i=Object(r.useState)(o),l=Object(we.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(!1),d=Object(we.a)(b,2),p=d[0],h=d[1],f=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Be(t);case 3:0===e.sent.resultCode&&j(!0),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Te(t);case 3:0===e.sent.resultCode&&j(!1),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:We.a.userItem,children:[Object(m.jsx)("div",{children:Object(m.jsx)(k.b,{to:"/profile/".concat(n),children:Object(m.jsx)("img",{onClick:function(){c.a,"profile/".concat(n)},src:t||w,className:We.a.userPhoto,alt:"User Avatar"})})}),Object(m.jsxs)("div",{className:We.a.userInfo,children:[Object(m.jsx)(k.b,{to:"/profile/".concat(n),className:We.a.userName,children:a}),Object(m.jsx)("span",{children:s||"User has no status"})]}),Object(m.jsx)("div",{className:We.a.subscribeBlock,children:u?Object(m.jsx)("button",{disabled:p,onClick:function(){O(n)},className:We.a.followedButton,children:"Unfollow"}):Object(m.jsx)("button",{disabled:p,onClick:function(){f(n)},className:We.a.unfollowedButton,children:"Follow"})})]},n)},He=a(68),Re=a.n(He),Ve=function(e){},Ge=de.a({term:de.b().max(25,"25 characters maximum")}),Ke=function(){return Object(m.jsx)(O.d,{initialValues:{term:""},onSubmit:Ve,validationSchema:Ge,children:Object(m.jsxs)(O.c,{children:[Object(m.jsx)(O.b,{type:"text",name:"term",className:Re.a.searchField}),Object(m.jsx)("button",{className:Re.a.searchButton,children:" Find User"}),Object(m.jsx)("br",{}),Object(m.jsx)(O.a,{name:"term",component:he}),Object(m.jsx)("br",{})]})})},qe=a.p+"static/media/preloader.c1479316.gif",Xe=a(108),Qe=a.n(Xe),ze=Object(b.c)(f)((function(){var e=Object(r.useState)(!1),t=Object(we.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)([]),o=Object(we.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(1),u=Object(we.a)(l,2),j=u[0],b=u[1],d=Object(r.useState)(0),p=Object(we.a)(d,2),h=p[0],f=p[1];Object(r.useEffect)((function(){(function(){var e=Object(B.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,Fe(20,j,"");case 3:t=e.sent,i(t.items),f(t.totalCount),s(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]);var O=function(e){b(e)};if(!c)return Object(m.jsx)("div",{children:"Loading"});var x=c.map((function(e){return Object(m.jsx)(Je,{name:e.name,id:e.id,photo:e.photos.small,followed:e.followed,status:e.status},e.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(Ke,{}),a?Object(m.jsx)("div",{className:Qe.a.preloaderBlock,children:Object(m.jsx)("img",{src:qe})}):Object(m.jsxs)("div",{children:[Object(m.jsx)(Ee,{totalItemsCount:h,onPageChanged:O,currentPage:j,itemsPerPage:20,loading:a,pagesInPaginator:10}),x,Object(m.jsx)(Ee,{totalItemsCount:h,onPageChanged:O,currentPage:j,itemsPerPage:20,loading:a,pagesInPaginator:10})]})]})})),Ye=Object(o.b)((function(e){return{profileInfo:e.profile.profileInfo,status:e.profile.status,isAuth:e.auth.isAuth}}),{userAuthorizing:ie})((function(e){var t=e.userAuthorizing;e.isAuth;return Object(r.useEffect)((function(){t()}),[t]),Object(m.jsxs)("div",{className:l.a.app__Wrapper,children:[Object(m.jsx)("header",{className:l.a.app__Header,children:Object(m.jsx)(ue,{})}),Object(m.jsx)("div",{className:l.a.app__Navbar,children:Object(m.jsx)(ge,{})}),Object(m.jsx)("main",{className:l.a.app__Content,children:Object(m.jsxs)(c.d,{children:[Object(m.jsx)(c.a,{exact:!0,from:"/",to:"/profile"}),Object(m.jsx)(c.b,{path:"/profile/:userId?",render:function(){return Object(m.jsx)(ye,{})}}),Object(m.jsx)(c.b,{path:"/dialogs",render:function(){return Object(m.jsx)(S,{})}}),Object(m.jsx)(c.b,{path:"/users",render:function(){return Object(m.jsx)(ze,{})}}),Object(m.jsx)(c.b,{path:"/settings",render:function(){return Object(m.jsx)(Ce,{})}}),Object(m.jsx)(c.b,{path:"/login",render:function(){return Object(m.jsx)(fe,{})}}),Object(m.jsx)(c.a,{from:"",to:"/profile"})]})})]})})),Ze=a(109),$e="SN/USERS/SET_USERS",et={users:null},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(d.a)(Object(d.a)({},e),{},{users:t.users,totalUsersCount:t.totalUsersCount});default:return e}},at=Object(b.b)({profile:ee,auth:le,users:tt,dialogs:N}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,nt=Object(b.d)(at,st(Object(b.a)(Ze.a)));n.a.render(Object(m.jsx)(k.a,{children:Object(m.jsx)(o.a,{store:nt,children:Object(m.jsx)(Ye,{})})}),document.getElementById("root"))},25:function(e,t,a){e.exports={dialogsWrapper:"Dialogs_dialogsWrapper__1y2rU",dialogsUsers:"Dialogs_dialogsUsers__1HD5x",linkToUserChat:"Dialogs_linkToUserChat__4nRSW",dialogsUserPhoto:"Dialogs_dialogsUserPhoto__2dG1w",dialogsUserWrapper:"Dialogs_dialogsUserWrapper__3awDP",dialogsMessages:"Dialogs_dialogsMessages__3fwCp"}},26:function(e,t,a){e.exports={header_wrapper:"Header_header_wrapper__Aeret",mediaBlock:"Header_mediaBlock__2B-Xh",logo:"Header_logo__2_Slf",slogan:"Header_slogan__2ab9O",loginBlock:"Header_loginBlock__2ta3n",linkToProfile:"Header_linkToProfile__2mVSy",linkToLogin:"Header_linkToLogin__2WRmu",logoutButton:"Header_logoutButton__2ICDe"}},30:function(e,t,a){e.exports={postField:"Posts_postField__3kgQM",newPostButton:"Posts_newPostButton__3klq3",post:"Posts_post__fZPPo",userPhoto:"Posts_userPhoto__11TS2",postText:"Posts_postText__2nuXj",likeBlock:"Posts_likeBlock__1fh5-",likeButton:"Posts_likeButton__ijqjM"}},31:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__276UC",loginButton:"Login_loginButton__Xv8tB",captchaBlock:"Login_captchaBlock__1sJjV",serverErrorMessage:"Login_serverErrorMessage__2_LT5"}},35:function(e,t,a){e.exports={userItem:"UserItem_userItem__1he0e",userPhoto:"UserItem_userPhoto__pEM9g",userInfo:"UserItem_userInfo__1WxTM",userName:"UserItem_userName__1_q2g",subscribeBlock:"UserItem_subscribeBlock__2nLCp",followedButton:"UserItem_followedButton__2zRpQ",unfollowedButton:"UserItem_unfollowedButton__3-lDR"}},44:function(e,t,a){e.exports={app__Wrapper:"App_app__Wrapper__e5wQU",app__Header:"App_app__Header__3CKVQ",app__Navbar:"App_app__Navbar__1dPdj",app__Content:"App_app__Content__2n7KG"}},68:function(e,t,a){e.exports={searchField:"UsersSearchForm_searchField__17OXu",searchButton:"UsersSearchForm_searchButton__33p-b"}}},[[241,1,2]]]);
//# sourceMappingURL=main.8c0004a8.chunk.js.map